(this.webpackJsonpreservation=this.webpackJsonpreservation||[]).push([[0],{53:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(4),s=n.n(r),i=(n(53),n(9)),o=new(n(59))(n(14)),l={events:[{resourceId:1,userId:1,start:new Date(2021,1,15,10,0,0),end:new Date(2021,1,15,11,30,0)},{resourceId:2,userId:1,start:new Date(2021,1,14,9,0,0),end:new Date(2021,1,14,10,30,0)},{resourceId:3,userId:1,start:new Date(2021,1,14,11,0,0),end:new Date(2021,1,14,11,30,0)},{resourceId:1,userId:1,start:new Date(2021,1,14,13,0,0),end:new Date(2021,1,14,15,30,0)},{resourceId:1,userId:2,start:new Date(2021,1,14,17,0,0),end:new Date(2021,1,14,19,30,0)},{resourceId:4,userId:1,start:new Date(2021,1,14,7,0,0),end:new Date(2021,1,14,7,30,0)},{resourceId:3,userId:2,start:new Date(2021,1,14,8,0,0),end:new Date(2021,1,14,8,30,0)},{resourceId:5,userId:2,start:new Date(2021,1,14,5,0,0),end:new Date(2021,1,14,5,30,0)},{resourceId:4,userId:2,start:new Date(2021,1,14,10,0,0),end:new Date(2021,1,14,11,30,0)}]};o.onGet("/api/event/all").reply((function(e){return[200,l.events]}));var u={resources:[{id:1,title:"HTC One M8",content:"HT519WM00429"},{id:2,title:"HTC One M81",content:"HT519WM00429"},{id:3,title:"HTC One M82",content:"HT519WM00429"},{id:4,title:"HTC One M83",content:"HT519WM00429"},{id:5,title:"HTC One M84",content:"HT519WM00429"}]};o.onGet("/api/resource/all").reply((function(e){return[200,u.resources]})),o.onAny().passThrough();var d=n(8),j=n(2),b=function(e){var t=e.isReservation,n=e.setReservation,a=Object(c.useCallback)((function(e){"Reservations"===e.target.value?n(!0):n(!1)}),[]);return Object(j.jsxs)("div",{className:"tab-group",children:[Object(j.jsx)("button",{className:t?"tab-link":"tab-link active",value:"Devices",onClick:a,children:"Devices"}),Object(j.jsx)("button",{className:t?"tab-link active":"tab-link",value:"Reservations",onClick:a,children:"Reservations"})]})},v=function(){return Object(j.jsx)("div",{className:"device-view",children:"Devices"})},O=n(43),h=n(21),f=n(15),x=n.n(f),m=n(24),p=n(14),D=n.n(p),C="EVENT_REQUEST",g="EVENT_SUCCESS",w="EVENT_ADD_SUCCESS";var y="RESOURCE_REQUEST",N="RESOURCE_SUCCESS";var T,I,S,k,E=function(e){var t=e.open,n=e.onCloseModal,a=Object(c.useState)(""),r=Object(d.a)(a,2),s=r[0],o=r[1],l=Object(c.useState)(new Date),u=Object(d.a)(l,2),b=u[0],v=u[1],f=Object(c.useState)(new Date),x=Object(d.a)(f,2),m=x[0],p=x[1],D=Object(c.useState)(!1),C=Object(d.a)(D,2),g=C[0],y=C[1],N=Object(i.c)((function(e){return e.resource})),T=Object(i.b)(),I=Object(c.useCallback)((function(){n(!1)}),[]),S=Object(c.useMemo)((function(){var e=[];return N.forEach((function(t){e.push(t.title)})),e}),[N]),k=Object(c.useCallback)((function(){var e;T((e={useId:1,resourceId:S.indexOf(s)+1,start:b,end:m},function(t){t({type:w,payload:e})})),I()}),[s,b,m]),E=Object(c.useMemo)((function(){return new Date(b.getTime()+18e5)}),[b]);return Object(c.useEffect)((function(){y(!!s)}),[s]),t?Object(j.jsx)("div",{className:"modal",children:Object(j.jsx)("div",{className:"modal-content",children:Object(j.jsxs)("div",{className:"modal-body",children:[Object(j.jsxs)("div",{className:"p-fluid",children:[Object(j.jsxs)("div",{className:"modal-item",children:[Object(j.jsx)("label",{htmlFor:"device",children:"Device"}),Object(j.jsx)(O.Dropdown,{id:"device",options:S,value:s,onChange:function(e){return o(e.value)},placeholder:"Select a Device"})]}),Object(j.jsxs)("div",{className:"modal-item",children:[Object(j.jsx)("label",{htmlFor:"start_time",children:"Start Time"}),Object(j.jsx)(h.Calendar,{id:"start_time",value:b,minDate:new Date,onChange:function(e){return v(e.value)},readOnlyInput:!0,showTime:!0})]}),Object(j.jsxs)("div",{className:"modal-item",children:[Object(j.jsx)("label",{htmlFor:"end_time",children:"End Time"}),Object(j.jsx)(h.Calendar,{id:"end_time",value:E.getTime()>m.getTime()?E:m,minDate:E,onChange:function(e){return p(e.value)},readOnlyInput:!0,showTime:!0})]})]}),Object(j.jsxs)("div",{className:"btn-group",children:[Object(j.jsx)("button",{className:"btn-create",onClick:k,disabled:!g,children:"Create"}),Object(j.jsx)("button",{className:"btn-cancel",onClick:I,children:"Cancel"})]})]})})}):null},R=n(46),M=n(45),_=n(16),H=n(17),A=function(e){var t=e.resource;e.el;return Object(j.jsxs)(F,{children:[Object(j.jsx)("div",{children:t._resource.title}),Object(j.jsx)("div",{children:t._resource.extendedProps.content})]})},F=function(e){var t=Object.assign({},e);return Object(j.jsx)(U,{children:t.children})},U=Object(H.a)("div")(T||(T=Object(_.a)(["\n  padding: 4px;\n"]))),W=function(e){var t=Object.assign({},e);return Object(j.jsx)(G,{children:t.children})},P=function(e){var t=Object.assign({},e);return Object(j.jsx)(B,{children:t.children})},L=function(e){var t=e.event;return Object(j.jsx)(j.Fragment,{children:1===t._def.extendedProps.userId?Object(j.jsx)(P,{}):Object(j.jsx)(W,{})})},V=Object(H.a)("div")(I||(I=Object(_.a)(["\n  position: relative;\n  height: 80px;\n  z-index: 2;\n"]))),B=Object(H.a)(V)(S||(S=Object(_.a)(["\n  background-color: #6845a7;\n"]))),G=Object(H.a)(V)(k||(k=Object(_.a)(["\n  background-color: #2196f3;\n"]))),J=function(e){var t=e.selDate,n=e.resources,c=e.events,a=e.calendarRef;return Object(j.jsx)("div",{className:"reservation-content",children:Object(j.jsx)(R.a,{timeZone:"local",plugins:[M.a],initialView:"resourceTimeline",initialDate:t,schedulerLicenseKey:"Reservation-Project",headerToolbar:!1,events:c,eventContent:L,resourceAreaHeaderContent:"Device/Time",resourceAreaWidth:"150px",resources:n,resourceLabelContent:A,height:615,slotMinWidth:60,slotDuration:"00:30:00",ref:a})})},Q=function(e){var t=e.resources,n=e.events,r=Object(c.useState)(!1),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(c.useState)(new Date),u=Object(d.a)(l,2),b=u[0],v=u[1],O=a.a.createRef(),f=Object(c.useCallback)((function(){o(!0)}),[]),x=Object(c.useCallback)((function(){v(b.decDays(1)),O.current.getApi().prev()}),[b,O]),m=Object(c.useCallback)((function(){v(b.incDays(1)),O.current.getApi().next()}),[b,O]);return Object(c.useEffect)((function(){Date.prototype.incDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t},Date.prototype.decDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()-e),t}}),[]),Object(j.jsxs)("div",{className:"reservation",children:[Object(j.jsxs)("div",{className:"reservation-top",children:[Object(j.jsxs)("div",{className:"select-date",children:[Object(j.jsx)("i",{className:"fas fa-chevron-left",onClick:x}),Object(j.jsx)(h.Calendar,{value:b,onChange:function(e){return v(e.value)},readOnlyInput:!0}),Object(j.jsx)("i",{className:"fas fa-chevron-right",onClick:m})]}),Object(j.jsx)("button",{className:"btn-add",onClick:f,children:"+Add Reservation"})]}),Object(j.jsx)(J,{selDate:b,resources:t,events:n,calendarRef:O}),Object(j.jsxs)("div",{className:"reservation-bottom",children:[Object(j.jsxs)("div",{className:"reserve-category",children:[Object(j.jsx)("div",{className:"reserve-category-circle other"}),Object(j.jsx)("div",{children:"Reserved by others"})]})," |",Object(j.jsxs)("div",{className:"reserve-category",children:[Object(j.jsx)("div",{className:"reserve-category-circle me"}),Object(j.jsx)("div",{children:"Reserved by me"})]})]}),Object(j.jsx)(E,{open:i,onCloseModal:o})]})},z=function(){var e=Object(c.useState)(!0),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(i.c)((function(e){return e.resource})),s=Object(i.c)((function(e){return e.event})),o=Object(i.b)();return Object(c.useEffect)((function(){o(function(){var e=Object(m.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:C}),e.next=3,D.a.get("/api/event/all");case 3:n=e.sent,t({type:g,payload:n.data});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o(function(){var e=Object(m.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:y}),e.next=3,D.a.get("/api/resource/all");case 3:n=e.sent,t({type:N,payload:n.data});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[o]),Object(j.jsxs)("div",{className:"home",children:[Object(j.jsx)(b,{isReservation:n,setReservation:a}),n?Object(j.jsx)(Q,{resources:r,events:s}):Object(j.jsx)(v,{})]})},K=n(44),Z=n(10),q=n(13),X=[],Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return[].concat(X);case g:return Object(q.a)(t.payload);case w:return[].concat(Object(q.a)(e),[t.payload]);default:return Object(q.a)(e)}},$=[],ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return[].concat($);case N:return Object(q.a)(t.payload);default:return Object(q.a)(e)}},te=Object(Z.c)({event:Y,resource:ee}),ne=[K.a];var ce=Object(Z.e)(te,{},Object(Z.d)(Z.a.apply(void 0,ne),(function(e){return e})));n(97);var ae=function(){return Object(j.jsx)(i.a,{store:ce,children:Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(z,{})})})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,99)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(ae,{})}),document.getElementById("root")),re()}},[[98,1,2]]]);
//# sourceMappingURL=main.8d75e405.chunk.js.map